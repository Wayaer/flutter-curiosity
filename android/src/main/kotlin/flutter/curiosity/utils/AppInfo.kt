package flutter.curiosity.utilsimport android.content.pm.PackageInfoimport android.content.pm.PackageManagerimport android.os.Buildimport android.os.Environmentimport flutter.curiosity.CuriosityPlugin.Companion.contextimport java.util.*object AppInfo {    @Throws(PackageManager.NameNotFoundException::class)    fun getAppInfo(): Map<String, Any> {        val appInfo = context.packageManager        val info = appInfo.getPackageInfo(context.packageName, 0)        val map: MutableMap<String, Any> = HashMap()        val filesDir = context.filesDir.path        val cacheDir = context.cacheDir.path        if (Environment.MEDIA_MOUNTED == Environment.getExternalStorageState() || !Environment.isExternalStorageRemovable()) {            map["externalCacheDir"] = context.externalCacheDir?.path.toString()            map["externalFilesDir"] = context.getExternalFilesDir(null)?.path.toString()            map["externalStorageDirectory"] = Environment.getExternalStorageDirectory().toString()            map["DIRECTORY_DCIM"] = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM).toString()            map["DIRECTORY_DOWNLOADS"] = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString()            map["DIRECTORY_MOVIES"] = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES).toString()            map["DIRECTORY_MUSIC"] = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MUSIC).toString()            map["DIRECTORY_PICTURES"] = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).toString()            map["DIRECTORY_ALARMS"] = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_ALARMS).toString()            map["DIRECTORY_DOCUMENTS"] = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).toString()            map["DIRECTORY_NOTIFICATIONS"] = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_NOTIFICATIONS).toString()            map["DIRECTORY_RINGTONES"] = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_RINGTONES).toString()            map["DIRECTORY_PODCASTS"] = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PODCASTS).toString()        } else {            map["externalFilesDir"] = filesDir            map["externalCacheDir"] = cacheDir        }        map["filesDir"] = filesDir        map["cacheDir"] = cacheDir        map["phoneModel"] = Build.MODEL        map["phoneBrand"] = Build.BRAND        map["systemVersion"] = Build.VERSION.RELEASE        map["sdkVersion"] = Build.VERSION.SDK_INT        map["appName"] = info.applicationInfo.loadLabel(appInfo).toString()        map["packageName"] = info.packageName        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.P) {            map["versionCode"] = info.longVersionCode        } else {            map["versionCode"] = info.versionCode        }        map["versionName"] = info.versionName        map["buildNumber"] = getLongVersionCode(info)        map["firstInstallTime"] = info.firstInstallTime        map["lastUpdateTime"] = info.lastUpdateTime        map["statusBarHeight"] = NativeUtils.getBarHeight("status_bar_height")        map["navigationBarHeight"] = NativeUtils.getBarHeight("navigation_bar_height")        return map    }    private fun getLongVersionCode(info: PackageInfo): Long {        return if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.P) {            info.longVersionCode        } else info.versionCode.toLong()    }}