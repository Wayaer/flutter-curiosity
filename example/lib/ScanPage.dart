import 'package:flutter/material.dart';import 'package:flutter_curiosity/curiosity.dart';class ScanPage extends StatefulWidget {  @override  ScanCodePageState createState() => ScanCodePageState();}class ScanCodePageState extends State<ScanPage> {  ScanController controller = ScanController();  @override  void initState() {    super.initState();    initController();  }  bool isFirst = true;  Future<void> initController() async {    controller.addListener(() {      final result = controller.result;      if (result != null) {        if (isFirst) {          isFirst = false;        }      }    });  }  bool flashMode = false;  @override  Widget build(BuildContext context) {    return Scaffold(      body: Stack(        children: <Widget>[          Scan(            controller: controller,          ),        ],      ),    );  }}class ScanImageView extends StatefulWidget {  final Widget child;  const ScanImageView({Key key, this.child}) : super(key: key);  @override  ScanImageViewState createState() => ScanImageViewState();}class ScanImageViewState extends State<ScanImageView> with TickerProviderStateMixin {  AnimationController controller;  @override  void initState() {    super.initState();    controller = AnimationController(vsync: this, duration: Duration(milliseconds: 1000));    controller.repeat(reverse: true);  }  @override  void dispose() {    controller.dispose();    super.dispose();  }  @override  Widget build(BuildContext context) {    return AnimatedBuilder(        animation: controller,        builder: (BuildContext context, Widget child) =>            CustomPaint(//              foregroundPainter: ScanPainter(controller.value, Colors.white, Colors.white),              child: widget.child,              willChange: true,            ));  }}