import 'package:flutter/material.dart';import 'package:flutter_curiosity/curiosity.dart';import 'package:flutter_waya/waya.dart';class ScanPage extends StatefulWidget {  @override  ScanCodePageState createState() => ScanCodePageState();}class ScanCodePageState extends State<ScanPage> {  ScanController controller = ScanController();  @override  void initState() {    super.initState();    initController();  }  @override  void dispose() {    AlertUtils.close();    super.dispose();  }  bool isFirst = true;  Future<void> initController() async {    controller.addListener(() {      String code = controller.code;      String type = controller.type;      if (code != null) {        showToast(code);        print(code + '===' + type);        if (isFirst) {          isFirst = false;        }      }    });  }  bool flashMode = false;  @override  Widget build(BuildContext context) {    return Scaffold(        body: Stack(          children: <Widget>[            ScanImageView(              child: Container(                  child: ScanView(                    controller: controller,                  )),            ),          ],        )    );  }}