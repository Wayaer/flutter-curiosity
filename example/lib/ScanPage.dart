import 'package:flutter/material.dart';import 'package:flutter_curiosity/flutter_curiosity.dart';import 'package:flutter_waya/flutter_waya.dart';class ScanPage extends StatefulWidget {  @override  ScanCodePageState createState() => ScanCodePageState();}class ScanCodePageState extends State<ScanPage> {  ScannerController controller = ScannerController(ResolutionPreset.Max);  @override  void initState() {    super.initState();    initController();  }  @override  void dispose() {//    AlertTools.close();    super.dispose();  }  bool isFirst = true;  Future<void> initController() async {    controller.addListener(() {      String code = controller.code;      String type = controller.type;      if (code != null) {        showToast(code);        print(code + '===' + type);        if (isFirst) {          isFirst = false;        }      }    });  }  bool flashMode = false;  @override  Widget build(BuildContext context) {    return Scaffold(      body: ScannerBox(        borderColor: Colors.red,        scannerColor: Colors.blue,        scannerStrokeWidth: 4,        hornStrokeWidth: 3,        size: Size(Tools.getWidth() * 0.6, Tools.getWidth() * 0.6),        child: Scanner(          controller: controller,        ),      ),    );  }}